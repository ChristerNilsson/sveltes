var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function $(){return f(" ")}function d(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}let h;function g(t){h=t}const m=[],k=[],v=[],_=[],y=Promise.resolve();let x=!1;function w(t){v.push(t)}function D(){const t=new Set;do{for(;m.length;){const t=m.shift();g(t),E(t.$$)}for(;k.length;)k.pop()();for(let e=0;e<v.length;e+=1){const n=v[e];t.has(n)||(n(),t.add(n))}v.length=0}while(m.length);for(;_.length;)_.pop()();x=!1}function E(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(w))}const N=new Set;let M;function A(t,e){t&&t.i&&(N.delete(t),t.i(e))}function O(t,e,n,s){if(t&&t.o){if(N.has(t))return;N.add(t),M.c.push(()=>{N.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function U(t,n,r){const{fragment:c,on_mount:l,on_destroy:a,after_update:i}=t.$$;c.m(n,r),w(()=>{const n=l.map(e).filter(o);a?a.push(...n):s(n),t.$$.on_mount=[]}),i.forEach(w)}function L(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function W(t,e){t.$$.dirty||(m.push(t),x||(x=!0,y.then(D)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function j(e,o,r,c,l,a){const i=h;g(e);const u=o.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:null};let $=!1;var d;f.ctx=r?r(e,u,(t,n,s=n)=>(f.ctx&&l(f.ctx[t],f.ctx[t]=s)&&(f.bound[t]&&f.bound[t](s),$&&W(e,t)),n)):u,f.update(),$=!0,s(f.before_update),f.fragment=c(f.ctx),o.target&&(o.hydrate?f.fragment.l((d=o.target,Array.from(d.childNodes))):f.fragment.c(),o.intro&&A(e.$$.fragment),U(e,o.target,o.anchor),D()),g(i)}class z{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const C=[];const I=function(e,n=t){let s;const o=[];function c(t){if(r(e,t)&&(e=t,s)){const t=!C.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),C.push(n,e)}if(t){for(let t=0;t<C.length;t+=2)C[t][0](C[t+1]);C.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,l=t){const a=[r,l];return o.push(a),1===o.length&&(s=n(c)||t),r(e),()=>{const t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}({a:17,b:1,hist:[]}),P=(t,e)=>t+Math.floor((e-t+1)*Math.random());var S={subscribe:I.subscribe,op:t=>I.update(e=>((t,e)=>{let n=t.a,s=t.b,o=t.hist;return"ADD"==e?(o.push(n),o=o,n+=2):"MUL"==e?(o.push(n),o=o,n*=2):"DIV"==e?(o.push(n),o=o,n/=2):"NEW"==e?(n=P(1,20),s=P(1,20),o=[]):"UNDO"==e?(n=o.pop(),o=o):console.log("Missing action: "+e),{a:n,b:s,hist:o}})(e,t))};function V(e){var n,s,o,r;return{c(){var t,l,a,i;n=u("button"),s=f(e.title),d(n,"class",o=c(e.klass)+" svelte-hrvg8g"),n.disabled=e.disabled,t=n,l="click",a=e.click,t.addEventListener(l,a,i),r=(()=>t.removeEventListener(l,a,i))},m(t,e){a(t,n,e),l(n,s)},p(t,e){t.title&&p(s,e.title),t.klass&&o!==(o=c(e.klass)+" svelte-hrvg8g")&&d(n,"class",o),t.disabled&&(n.disabled=e.disabled)},i:t,o:t,d(t){t&&i(n),r()}}}function q(t,e,n){let{click:s,disabled:o,title:r,klass:c}=e;return window.innerWidth<600&&n("klass",c="col1"),t.$set=(t=>{"click"in t&&n("click",s=t.click),"disabled"in t&&n("disabled",o=t.disabled),"title"in t&&n("title",r=t.title),"klass"in t&&n("klass",c=t.klass)}),{click:s,disabled:o,title:r,klass:c}}class B extends z{constructor(t){super(),j(this,t,q,V,r,["click","disabled","title","klass"])}}function T(t){var e,n,s,o,r,c,h,g,m,k,v,_=t.$store.a+"",y=t.$store.b+"",x=new B({props:{klass:"col3",title:"+2",click:t.func,disabled:t.$store.a==t.$store.b}}),w=new B({props:{klass:"col3",title:"*2",click:t.func_1,disabled:t.$store.a==t.$store.b}}),D=new B({props:{klass:"col3",title:"/2",click:t.func_2,disabled:t.$store.a==t.$store.b}}),E=new B({props:{klass:"col2",title:"New",click:t.func_3,disabled:t.$store.a!=t.$store.b}}),N=new B({props:{klass:"col2",title:"Undo",click:t.func_4,disabled:0==t.$store.hist.length}});return{c(){e=u("h1"),n=f(_),s=$(),o=u("h1"),r=f(y),c=$(),x.$$.fragment.c(),h=$(),w.$$.fragment.c(),g=$(),D.$$.fragment.c(),m=$(),E.$$.fragment.c(),k=$(),N.$$.fragment.c(),d(e,"class","col2 svelte-uf68ax"),b(e,"font-size","60px"),b(e,"color","red"),d(o,"class","col2 svelte-uf68ax"),b(o,"font-size","60px"),b(o,"color","green")},m(t,i){a(t,e,i),l(e,n),a(t,s,i),a(t,o,i),l(o,r),a(t,c,i),U(x,t,i),a(t,h,i),U(w,t,i),a(t,g,i),U(D,t,i),a(t,m,i),U(E,t,i),a(t,k,i),U(N,t,i),v=!0},p(t,e){v&&!t.$store||_===(_=e.$store.a+"")||p(n,_),v&&!t.$store||y===(y=e.$store.b+"")||p(r,y);var s={};t.$store&&(s.disabled=e.$store.a==e.$store.b),x.$set(s);var o={};t.$store&&(o.disabled=e.$store.a==e.$store.b),w.$set(o);var c={};t.$store&&(c.disabled=e.$store.a==e.$store.b),D.$set(c);var l={};t.$store&&(l.disabled=e.$store.a!=e.$store.b),E.$set(l);var a={};t.$store&&(a.disabled=0==e.$store.hist.length),N.$set(a)},i(t){v||(A(x.$$.fragment,t),A(w.$$.fragment,t),A(D.$$.fragment,t),A(E.$$.fragment,t),A(N.$$.fragment,t),v=!0)},o(t){O(x.$$.fragment,t),O(w.$$.fragment,t),O(D.$$.fragment,t),O(E.$$.fragment,t),O(N.$$.fragment,t),v=!1},d(t){t&&(i(e),i(s),i(o),i(c)),L(x,t),t&&i(h),L(w,t),t&&i(g),L(D,t),t&&i(m),L(E,t),t&&i(k),L(N,t)}}}const F="ADD",G="MUL",H="DIV",J="NEW",K="UNDO";function Q(t,e,n){let s;var o,r;o=S,r=(t=>{n("$store",s=t)}),t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(o,r)),S.op(J),console.log(S);return{$store:s,func:()=>S.op(F),func_1:()=>S.op(G),func_2:()=>S.op(H),func_3:()=>S.op(J),func_4:()=>S.op(K)}}return new class extends z{constructor(t){super(),j(this,t,Q,T,r,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
