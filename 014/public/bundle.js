var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return null==t?"":t}function a(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}function g(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}let m;function b(t){m=t}const k=[],v=[],_=[],y=[],x=Promise.resolve();let w=!1;function E(t){_.push(t)}function N(){const t=new Set;do{for(;k.length;){const t=k.shift();b(t),j(t.$$)}for(;v.length;)v.pop()();for(let e=0;e<_.length;e+=1){const n=_[e];t.has(n)||(n(),t.add(n))}_.length=0}while(k.length);for(;y.length;)y.pop()();w=!1}function j(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(E))}const M=new Set;let O;function z(t,e){t&&t.i&&(M.delete(t),t.i(e))}function A(t,e,n,s){if(t&&t.o){if(M.has(t))return;M.add(t),O.c.push(()=>{M.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function D(t,n,r){const{fragment:c,on_mount:a,on_destroy:l,after_update:i}=t.$$;c.m(n,r),E(()=>{const n=a.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]}),i.forEach(E)}function q(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function L(t,e){t.$$.dirty||(k.push(t),w||(w=!0,x.then(N)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function U(e,o,r,c,a,l){const i=m;b(e);const u=o.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:null};let d=!1;var $;f.ctx=r?r(e,u,(t,n,s=n)=>(f.ctx&&a(f.ctx[t],f.ctx[t]=s)&&(f.bound[t]&&f.bound[t](s),d&&L(e,t)),n)):u,f.update(),d=!0,s(f.before_update),f.fragment=c(f.ctx),o.target&&(o.hydrate?f.fragment.l(($=o.target,Array.from($.childNodes))):f.fragment.c(),o.intro&&z(e.$$.fragment),D(e,o.target,o.anchor),N()),b(i)}class B{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const C=[];var P=function(e,n=t){let s;const o=[];function c(t){if(r(e,t)&&(e=t,s)){const t=!C.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),C.push(n,e)}if(t){for(let t=0;t<C.length;t+=2)C[t][0](C[t+1]);C.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,a=t){const l=[r,a];return o.push(l),1===o.length&&(s=n(c)||t),r(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}({});function S(e){var n,s,o,r;return{c(){n=u("button"),s=f(e.title),p(n,"class",o=c(e.klass)+" svelte-1qjpvcz"),n.disabled=e.disabled,r=$(n,"click",e.click)},m(t,e){l(t,n,e),a(n,s)},p(t,e){t.title&&h(s,e.title),t.klass&&o!==(o=c(e.klass)+" svelte-1qjpvcz")&&p(n,"class",o),t.disabled&&(n.disabled=e.disabled)},i:t,o:t,d(t){t&&i(n),r()}}}function W(t,e,n){let{click:s,disabled:o,title:r,klass:c}=e;return window.innerWidth<600&&n("klass",c="col1"),t.$set=(t=>{"click"in t&&n("click",s=t.click),"disabled"in t&&n("disabled",o=t.disabled),"title"in t&&n("title",r=t.title),"klass"in t&&n("klass",c=t.klass)}),{click:s,disabled:o,title:r,klass:c}}class I extends B{constructor(t){super(),U(this,t,W,S,r,["click","disabled","title","klass"])}}function T(e){var n,s,o,r,c,d,g,m,b,k,v=e.state.action+"",_=e.state.store.a+"",y=e.state.store.b+"",x=e.state.store.hist+"";return{c(){n=u("button"),s=f(v),o=f(" a:"),r=f(_),c=f(" b:"),d=f(y),g=f(" hist:["),m=f(x),b=f("]"),p(n,"class","col1 svelte-1138hho"),k=$(n,"click",e.click_handler)},m(t,e){l(t,n,e),a(n,s),a(n,o),a(n,r),a(n,c),a(n,d),a(n,g),a(n,m),a(n,b)},p(t,e){t.state&&v!==(v=e.state.action+"")&&h(s,v),t.state&&_!==(_=e.state.store.a+"")&&h(r,_),t.state&&y!==(y=e.state.store.b+"")&&h(d,y),t.state&&x!==(x=e.state.store.hist+"")&&h(m,x)},i:t,o:t,d(t){t&&i(n),k()}}}function V(t,e,n){let{state:s}=e;return t.$set=(t=>{"state"in t&&n("state",s=t.state)}),{state:s,click_handler:()=>P.set(s.store)}}class F extends B{constructor(t){super(),U(this,t,V,T,r,["state"])}}function G(t,e,n){const s=Object.create(t);return s.state=e[n],s}function H(t){var e,n=new F({props:{state:t.state}});return{c(){n.$$.fragment.c()},m(t,s){D(n,t,s),e=!0},p(t,e){var s={};t.states&&(s.state=e.state),n.$set(s)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){A(n.$$.fragment,t),e=!1},d(t){q(n,t)}}}function J(t){var e,n;let o=t.states,r=[];for(let e=0;e<o.length;e+=1)r[e]=H(G(t,o,e));const c=t=>A(r[t],1,1,()=>{r[t]=null});return{c(){e=u("div");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,s){l(t,e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,n){if(t.states){let a;for(o=n.states,a=0;a<o.length;a+=1){const s=G(n,o,a);r[a]?(r[a].p(t,s),z(r[a],1)):(r[a]=H(s),r[a].c(),z(r[a],1),r[a].m(e,null))}for(O={r:0,c:[],p:O},a=o.length;a<r.length;a+=1)c(a);O.r||s(O.c),O=O.p}},i(t){if(!n){for(let t=0;t<o.length;t+=1)z(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)A(r[t]);n=!1},d(t){t&&i(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function K(t,e,n){let{states:s}=e;return t.$set=(t=>{"states"in t&&n("states",s=t.states)}),{states:s}}class Q extends B{constructor(t){super(),U(this,t,K,J,r,["states"])}}function R(t){var e,n,s,o,r,c,$,m,b,k,v,_,y,x,w,E=t.$store.a+"",N=t.$store.b+"",j=new I({props:{klass:"col3",title:"+2",click:t.func,disabled:t.done}}),M=new I({props:{klass:"col3",title:"*2",click:t.func_1,disabled:t.done}}),O=new I({props:{klass:"col3",title:"/2",click:t.func_2,disabled:t.done}}),L=new I({props:{klass:"col2",title:"New",click:t.func_3,disabled:!t.done}}),U=new I({props:{klass:"col2",title:"Undo",click:t.func_4,disabled:0==t.$store.hist.length}}),B=function(t){var e,n=new Q({props:{states:t.states}});return{c(){n.$$.fragment.c()},m(t,s){D(n,t,s),e=!0},p(t,e){var s={};t.states&&(s.states=e.states),n.$set(s)},i(t){e||(z(n.$$.fragment,t),e=!0)},o(t){A(n.$$.fragment,t),e=!1},d(t){q(n,t)}}}(t);return{c(){e=u("h1"),n=f(E),s=d(),o=u("h1"),r=f(N),c=d(),j.$$.fragment.c(),$=d(),M.$$.fragment.c(),m=d(),O.$$.fragment.c(),b=d(),L.$$.fragment.c(),k=d(),U.$$.fragment.c(),v=d(),_=u("hr"),y=d(),B&&B.c(),x=f(""),p(e,"class","col2 svelte-uf68ax"),g(e,"font-size","60px"),g(e,"color","red"),p(o,"class","col2 svelte-uf68ax"),g(o,"font-size","60px"),g(o,"color","green")},m(t,i){l(t,e,i),a(e,n),l(t,s,i),l(t,o,i),a(o,r),l(t,c,i),D(j,t,i),l(t,$,i),D(M,t,i),l(t,m,i),D(O,t,i),l(t,b,i),D(L,t,i),l(t,k,i),D(U,t,i),l(t,v,i),l(t,_,i),l(t,y,i),B&&B.m(t,i),l(t,x,i),w=!0},p(t,e){w&&!t.$store||E===(E=e.$store.a+"")||h(n,E),w&&!t.$store||N===(N=e.$store.b+"")||h(r,N);var s={};t.done&&(s.disabled=e.done),j.$set(s);var o={};t.done&&(o.disabled=e.done),M.$set(o);var c={};t.done&&(c.disabled=e.done),O.$set(c);var a={};t.done&&(a.disabled=!e.done),L.$set(a);var l={};t.$store&&(l.disabled=0==e.$store.hist.length),U.$set(l),B.p(t,e)},i(t){w||(z(j.$$.fragment,t),z(M.$$.fragment,t),z(O.$$.fragment,t),z(L.$$.fragment,t),z(U.$$.fragment,t),z(B),w=!0)},o(t){A(j.$$.fragment,t),A(M.$$.fragment,t),A(O.$$.fragment,t),A(L.$$.fragment,t),A(U.$$.fragment,t),A(B),w=!1},d(t){t&&(i(e),i(s),i(o),i(c)),q(j,t),t&&i($),q(M,t),t&&i(m),q(O,t),t&&i(b),q(L,t),t&&i(k),q(U,t),t&&(i(v),i(_),i(y)),B&&B.d(t),t&&i(x)}}}const X="ADD",Y="MUL",Z="DIV",tt="NEW",et="UNDO";function nt(t,e,n){let s;!function(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}(t,P,t=>{n("$store",s=t)});let o=[];const r=t=>{(()=>{if(o.length>0){let t=o[o.length-1].store;P.set({a:t.a,b:t.b,hist:t.hist.slice()})}})();let e=s.a,r=s.b,c=s.hist;if(t==X)c.push(e),e+=2;else if(t==Y)c.push(e),e*=2;else if(t==Z)c.push(e),e/=2;else if(t==tt){const t=(t,e)=>t+Math.floor((e-t+1)*Math.random());e=t(1,20),r=t(1,20),c=[]}else t==et?e=c.pop():console.log("Missing action: "+t);P.set({a:e,b:r,hist:c.slice()}),(t=>{o.push({action:t,store:s}),n("states",o)})(t)};r(tt);let c;return t.$$.update=((t={$store:1})=>{t.$store&&n("done",c=s.a==s.b)}),{states:o,operation:r,done:c,$store:s,func:()=>r(X),func_1:()=>r(Y),func_2:()=>r(Z),func_3:()=>r(tt),func_4:()=>r(et)}}return new class extends B{constructor(t){super(),U(this,t,nt,R,r,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
